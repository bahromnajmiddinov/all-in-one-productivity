# Generated by Django 5.0.14 on 2026-02-17 01:44

import django.db.models.deletion
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='AchievementBadge',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=100, unique=True)),
                ('display_name', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('category', models.CharField(choices=[('consistency', 'Consistency'), ('milestone', 'Milestone'), ('streak', 'Streak'), ('improvement', 'Improvement'), ('exploration', 'Exploration'), ('social', 'Social'), ('special', 'Special')], max_length=20)),
                ('level', models.CharField(choices=[('bronze', 'Bronze'), ('silver', 'Silver'), ('gold', 'Gold'), ('platinum', 'Platinum'), ('legendary', 'Legendary')], max_length=20)),
                ('icon', models.CharField(default='award', max_length=100)),
                ('color', models.CharField(default='#FFD700', max_length=7)),
                ('image', models.ImageField(blank=True, null=True, upload_to='badges/')),
                ('criteria_type', models.CharField(help_text="e.g., 'streak_days', 'total_count', 'milestone'", max_length=50)),
                ('criteria_value', models.PositiveIntegerField(help_text='Threshold value to earn badge')),
                ('criteria_module', models.CharField(blank=True, help_text='Module this badge relates to', max_length=50)),
                ('is_hidden', models.BooleanField(default=False, help_text='Secret badges')),
                ('is_limited', models.BooleanField(default=False, help_text='Limited time/event badges')),
                ('order', models.PositiveIntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'ordering': ['category', 'level', 'order'],
            },
        ),
        migrations.CreateModel(
            name='AnalyticsExport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=200)),
                ('export_format', models.CharField(choices=[('json', 'JSON'), ('csv', 'CSV'), ('xlsx', 'Excel'), ('pdf', 'PDF')], max_length=10)),
                ('export_scope', models.CharField(choices=[('all', 'All Data'), ('module', 'Specific Module'), ('date_range', 'Date Range'), ('custom', 'Custom Selection')], max_length=20)),
                ('selected_modules', models.JSONField(blank=True, default=list)),
                ('start_date', models.DateField(blank=True, null=True)),
                ('end_date', models.DateField(blank=True, null=True)),
                ('file', models.FileField(blank=True, null=True, upload_to='exports/%Y/%m/')),
                ('file_size', models.PositiveIntegerField(blank=True, null=True)),
                ('download_url', models.URLField(blank=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('processing', 'Processing'), ('completed', 'Completed'), ('failed', 'Failed'), ('expired', 'Expired')], default='pending', max_length=20)),
                ('error_message', models.TextField(blank=True)),
                ('requested_at', models.DateTimeField(auto_now_add=True)),
                ('started_at', models.DateTimeField(blank=True, null=True)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('expires_at', models.DateTimeField(blank=True, null=True)),
                ('record_count', models.PositiveIntegerField(blank=True, null=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='analytics_exports', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-requested_at'],
            },
        ),
        migrations.CreateModel(
            name='CustomReport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=200)),
                ('description', models.TextField(blank=True)),
                ('selected_modules', models.JSONField(default=list, help_text="['tasks', 'mood', 'sleep', ...]")),
                ('selected_metrics', models.JSONField(default=dict, help_text="{'tasks': ['completed', 'created'], ...}")),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('format', models.CharField(choices=[('json', 'JSON'), ('csv', 'CSV'), ('pdf', 'PDF')], default='json', max_length=10)),
                ('include_charts', models.BooleanField(default=True)),
                ('include_insights', models.BooleanField(default=True)),
                ('include_comparisons', models.BooleanField(default=False)),
                ('generated_file', models.FileField(blank=True, null=True, upload_to='custom_reports/%Y/%m/')),
                ('file_size', models.PositiveIntegerField(blank=True, null=True)),
                ('generated_at', models.DateTimeField(blank=True, null=True)),
                ('is_favorite', models.BooleanField(default=False)),
                ('is_scheduled', models.BooleanField(default=False)),
                ('schedule_frequency', models.CharField(blank=True, choices=[('daily', 'Daily'), ('weekly', 'Weekly'), ('monthly', 'Monthly')], max_length=20)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='custom_reports', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PeriodComparison',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('name', models.CharField(blank=True, max_length=200)),
                ('period1_start', models.DateField()),
                ('period1_end', models.DateField()),
                ('period1_label', models.CharField(blank=True, max_length=100)),
                ('period2_start', models.DateField()),
                ('period2_end', models.DateField()),
                ('period2_label', models.CharField(blank=True, max_length=100)),
                ('comparison_data', models.JSONField(default=dict, help_text='Comparison results by module as JSON')),
                ('overall_winner', models.CharField(blank=True, choices=[('period1', 'Period 1'), ('period2', 'Period 2'), ('tie', 'Tie')], max_length=10)),
                ('key_differences', models.JSONField(blank=True, default=list)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='period_comparisons', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='UserAnalyticsProfile',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('total_data_points', models.PositiveIntegerField(default=0)),
                ('active_modules', models.JSONField(blank=True, default=list)),
                ('overall_consistency_score', models.PositiveIntegerField(default=0)),
                ('module_consistency_scores', models.JSONField(blank=True, default=dict)),
                ('current_streak_days', models.PositiveIntegerField(default=0)),
                ('longest_streak_days', models.PositiveIntegerField(default=0)),
                ('total_badges_earned', models.PositiveIntegerField(default=0)),
                ('badges_by_category', models.JSONField(blank=True, default=dict)),
                ('last_entry_date', models.DateField(blank=True, null=True)),
                ('last_entry_module', models.CharField(blank=True, max_length=50)),
                ('insights_enabled', models.BooleanField(default=True)),
                ('anomaly_alerts_enabled', models.BooleanField(default=True)),
                ('weekly_reports_enabled', models.BooleanField(default=True)),
                ('predictive_insights_enabled', models.BooleanField(default=True)),
                ('calculated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='analytics_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'User Analytics Profile',
                'verbose_name_plural': 'User Analytics Profiles',
            },
        ),
        migrations.CreateModel(
            name='AnalyticsInsight',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('insight_type', models.CharField(choices=[('pattern', 'Pattern Recognition'), ('correlation', 'Correlation Discovery'), ('anomaly', 'Anomaly Alert'), ('prediction', 'Prediction'), ('recommendation', 'Recommendation'), ('achievement', 'Achievement Unlocked'), ('milestone', 'Milestone Reached'), ('comparison', 'Comparison Insight')], max_length=20)),
                ('severity', models.CharField(choices=[('info', 'Informational'), ('positive', 'Positive'), ('warning', 'Warning'), ('urgent', 'Urgent')], default='info', max_length=20)),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('related_modules', models.JSONField(blank=True, default=list)),
                ('related_metrics', models.JSONField(blank=True, default=list)),
                ('supporting_data', models.JSONField(blank=True, default=dict)),
                ('chart_data', models.JSONField(blank=True, default=dict)),
                ('action_items', models.JSONField(blank=True, default=list)),
                ('is_read', models.BooleanField(default=False)),
                ('is_dismissed', models.BooleanField(default=False)),
                ('is_actioned', models.BooleanField(default=False)),
                ('relevant_date', models.DateField(blank=True, null=True)),
                ('dismissed_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='analytics_insights', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['user', 'insight_type', '-created_at'], name='analytics_a_user_id_fd44c0_idx'), models.Index(fields=['user', 'is_dismissed', '-created_at'], name='analytics_a_user_id_7cf412_idx')],
            },
        ),
        migrations.CreateModel(
            name='AnomalyDetection',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('module', models.CharField(max_length=50)),
                ('metric_name', models.CharField(max_length=100)),
                ('anomaly_type', models.CharField(choices=[('spike', 'Sudden Spike'), ('drop', 'Sudden Drop'), ('outlier', 'Statistical Outlier'), ('pattern_break', 'Pattern Break'), ('missing_data', 'Unusual Missing Data')], max_length=20)),
                ('severity', models.CharField(choices=[('info', 'Informational'), ('low', 'Low'), ('medium', 'Medium'), ('high', 'High'), ('critical', 'Critical')], max_length=20)),
                ('detected_date', models.DateField()),
                ('expected_value', models.DecimalField(blank=True, decimal_places=4, max_digits=20, null=True)),
                ('actual_value', models.DecimalField(blank=True, decimal_places=4, max_digits=20, null=True)),
                ('deviation_percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('baseline_average', models.DecimalField(blank=True, decimal_places=4, max_digits=20, null=True)),
                ('baseline_std_dev', models.DecimalField(blank=True, decimal_places=4, max_digits=20, null=True)),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('possible_causes', models.JSONField(blank=True, default=list)),
                ('related_entries', models.JSONField(blank=True, default=list, help_text='IDs of related entries')),
                ('is_read', models.BooleanField(default=False)),
                ('is_dismissed', models.BooleanField(default=False)),
                ('is_investigated', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='detected_anomalies', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['user', 'module', '-created_at'], name='analytics_a_user_id_594062_idx'), models.Index(fields=['user', 'severity', '-created_at'], name='analytics_a_user_id_783b3b_idx'), models.Index(fields=['user', 'is_dismissed', '-created_at'], name='analytics_a_user_id_c29689_idx')],
            },
        ),
        migrations.CreateModel(
            name='AutomatedReport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('report_type', models.CharField(choices=[('weekly', 'Weekly Summary'), ('monthly', 'Monthly Summary'), ('quarterly', 'Quarterly Review'), ('custom', 'Custom Report')], max_length=20)),
                ('title', models.CharField(max_length=200)),
                ('status', models.CharField(choices=[('draft', 'Draft'), ('generating', 'Generating'), ('ready', 'Ready'), ('sent', 'Sent'), ('archived', 'Archived')], default='draft', max_length=20)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('summary_text', models.TextField(blank=True, help_text='AI-generated summary')),
                ('key_highlights', models.JSONField(blank=True, default=list)),
                ('key_lowlights', models.JSONField(blank=True, default=list)),
                ('module_summaries', models.JSONField(blank=True, default=dict, help_text='Module summaries as JSON: {tasks: {...}, habits: {...}}')),
                ('improving_metrics', models.JSONField(blank=True, default=list)),
                ('declining_metrics', models.JSONField(blank=True, default=list)),
                ('stable_metrics', models.JSONField(blank=True, default=list)),
                ('insights', models.JSONField(blank=True, default=list)),
                ('recommendations', models.JSONField(blank=True, default=list)),
                ('comparison_data', models.JSONField(blank=True, default=dict)),
                ('generated_at', models.DateTimeField(blank=True, null=True)),
                ('is_read', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='automated_reports', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['user', 'report_type', '-created_at'], name='analytics_a_user_id_1de03d_idx'), models.Index(fields=['user', 'status'], name='analytics_a_user_id_2e6ce4_idx')],
            },
        ),
        migrations.CreateModel(
            name='CrossModuleCorrelation',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('source_module', models.CharField(help_text="e.g., 'sleep', 'mood', 'exercise'", max_length=50)),
                ('source_metric', models.CharField(help_text="e.g., 'duration', 'quality', 'average_rating'", max_length=100)),
                ('target_module', models.CharField(max_length=50)),
                ('target_metric', models.CharField(max_length=100)),
                ('correlation_coefficient', models.DecimalField(decimal_places=4, max_digits=6)),
                ('correlation_strength', models.CharField(choices=[('very_strong_positive', 'Very Strong Positive'), ('strong_positive', 'Strong Positive'), ('moderate_positive', 'Moderate Positive'), ('weak_positive', 'Weak Positive'), ('none', 'No Correlation'), ('weak_negative', 'Weak Negative'), ('moderate_negative', 'Moderate Negative'), ('strong_negative', 'Strong Negative'), ('very_strong_negative', 'Very Strong Negative')], max_length=30)),
                ('confidence_score', models.DecimalField(decimal_places=2, default=0.5, max_digits=3)),
                ('sample_size', models.PositiveIntegerField(default=0)),
                ('status', models.CharField(choices=[('pending', 'Pending Analysis'), ('analyzing', 'Analyzing'), ('completed', 'Completed'), ('failed', 'Failed')], default='pending', max_length=20)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('insight_title', models.CharField(blank=True, max_length=200)),
                ('insight_description', models.TextField(blank=True)),
                ('action_recommendations', models.JSONField(blank=True, default=list)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='cross_module_correlations', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-correlation_coefficient'],
                'indexes': [models.Index(fields=['user', 'source_module', 'target_module'], name='analytics_c_user_id_f4aa2c_idx'), models.Index(fields=['user', '-correlation_coefficient'], name='analytics_c_user_id_edc940_idx')],
            },
        ),
        migrations.CreateModel(
            name='GoalProgress',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('source_module', models.CharField(choices=[('sleep', 'Sleep Goals'), ('fitness', 'Fitness Goals'), ('finance', 'Financial Goals'), ('habits', 'Habit Goals'), ('productivity', 'Productivity Goals'), ('custom', 'Custom Goals')], max_length=20)),
                ('source_goal_id', models.CharField(help_text='ID of the original goal', max_length=100)),
                ('goal_name', models.CharField(max_length=200)),
                ('goal_description', models.TextField(blank=True)),
                ('target_value', models.DecimalField(blank=True, decimal_places=4, max_digits=20, null=True)),
                ('current_value', models.DecimalField(blank=True, decimal_places=4, max_digits=20, null=True)),
                ('progress_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('start_date', models.DateField()),
                ('target_date', models.DateField(blank=True, null=True)),
                ('unit', models.CharField(blank=True, max_length=50)),
                ('status', models.CharField(choices=[('not_started', 'Not Started'), ('in_progress', 'In Progress'), ('on_track', 'On Track'), ('at_risk', 'At Risk'), ('off_track', 'Off Track'), ('completed', 'Completed'), ('missed', 'Missed')], default='not_started', max_length=20)),
                ('progress_history', models.JSONField(blank=True, default=list)),
                ('projected_completion', models.DateField(blank=True, null=True)),
                ('days_remaining', models.IntegerField(blank=True, null=True)),
                ('is_aggregate', models.BooleanField(default=False, help_text='True if this combines multiple sub-goals')),
                ('sub_goals', models.JSONField(blank=True, default=list)),
                ('last_synced', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='unified_goal_progress', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-progress_percentage'],
                'indexes': [models.Index(fields=['user', 'source_module'], name='analytics_g_user_id_0703b0_idx'), models.Index(fields=['user', 'status'], name='analytics_g_user_id_5e20be_idx')],
            },
        ),
        migrations.CreateModel(
            name='PredictiveForecast',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('module', models.CharField(max_length=50)),
                ('metric_name', models.CharField(max_length=100)),
                ('forecast_period', models.CharField(choices=[('7d', 'Next 7 Days'), ('30d', 'Next 30 Days'), ('90d', 'Next 90 Days'), ('6m', 'Next 6 Months')], max_length=10)),
                ('forecast_values', models.JSONField(default=list, help_text='[{date, predicted_value, confidence_low, confidence_high}, ...]')),
                ('trend_direction', models.CharField(choices=[('increasing', 'Increasing'), ('decreasing', 'Decreasing'), ('stable', 'Stable'), ('fluctuating', 'Fluctuating')], max_length=20)),
                ('model_accuracy', models.DecimalField(blank=True, decimal_places=2, help_text='RÂ² score or similar', max_digits=5, null=True)),
                ('confidence_score', models.DecimalField(decimal_places=2, default=0.5, max_digits=3)),
                ('historical_average', models.DecimalField(blank=True, decimal_places=4, max_digits=20, null=True)),
                ('historical_trend', models.DecimalField(blank=True, decimal_places=4, max_digits=10, null=True)),
                ('forecast_start_date', models.DateField()),
                ('forecast_end_date', models.DateField()),
                ('generated_at', models.DateTimeField(auto_now_add=True)),
                ('expires_at', models.DateTimeField()),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('generating', 'Generating'), ('ready', 'Ready'), ('expired', 'Expired')], default='pending', max_length=20)),
                ('insight_summary', models.TextField(blank=True)),
                ('recommendations', models.JSONField(blank=True, default=list)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='predictive_forecasts', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-generated_at'],
                'indexes': [models.Index(fields=['user', 'module', '-generated_at'], name='analytics_p_user_id_607eb8_idx'), models.Index(fields=['user', 'status'], name='analytics_p_user_id_89b604_idx')],
            },
        ),
        migrations.CreateModel(
            name='TrendDetection',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('module', models.CharField(max_length=50)),
                ('metric_name', models.CharField(max_length=100)),
                ('metric_display_name', models.CharField(blank=True, max_length=200)),
                ('trend_direction', models.CharField(choices=[('improving', 'Improving'), ('declining', 'Declining'), ('stable', 'Stable'), ('volatile', 'Volatile')], max_length=20)),
                ('trend_period', models.CharField(choices=[('7d', '7 Days'), ('30d', '30 Days'), ('90d', '90 Days'), ('6m', '6 Months'), ('1y', '1 Year')], max_length=10)),
                ('start_value', models.DecimalField(blank=True, decimal_places=4, max_digits=20, null=True)),
                ('end_value', models.DecimalField(blank=True, decimal_places=4, max_digits=20, null=True)),
                ('change_absolute', models.DecimalField(blank=True, decimal_places=4, max_digits=20, null=True)),
                ('change_percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('confidence_score', models.DecimalField(decimal_places=2, default=0.5, max_digits=3)),
                ('volatility_index', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField()),
                ('trend_data', models.JSONField(blank=True, default=list, help_text='Daily values for charting')),
                ('is_significant', models.BooleanField(default=False)),
                ('is_acknowledged', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='detected_trends', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-created_at'],
                'indexes': [models.Index(fields=['user', 'module', '-created_at'], name='analytics_t_user_id_48c293_idx'), models.Index(fields=['user', 'trend_direction', '-created_at'], name='analytics_t_user_id_40485c_idx')],
            },
        ),
        migrations.CreateModel(
            name='UserAchievement',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('progress_current', models.PositiveIntegerField(default=0)),
                ('progress_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('is_earned', models.BooleanField(default=False)),
                ('earned_at', models.DateTimeField(blank=True, null=True)),
                ('earned_context', models.JSONField(blank=True, default=dict, help_text='Context when earned')),
                ('is_shared', models.BooleanField(default=False)),
                ('shared_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('badge', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='user_achievements', to='analytics.achievementbadge')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='achievements', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'ordering': ['-earned_at', '-progress_percentage'],
                'unique_together': {('user', 'badge')},
            },
        ),
    ]
